<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chapter 10 | Bad Debts & Allowance for Doubtful Accounts</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=DM+Mono:wght@400;500&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #0a0e1a;
    --surface: #111827;
    --card: #161f30;
    --accent: #e8c547;
    --accent2: #4ecdc4;
    --accent3: #ff6b6b;
    --text: #e8eaf0;
    --muted: #8892a4;
    --border: rgba(232,197,71,0.15);
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'DM Sans', sans-serif;
    line-height: 1.7;
    overflow-x: hidden;
  }

  /* HERO */
  .hero {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 60px 20px;
    position: relative;
    background: radial-gradient(ellipse at 30% 50%, rgba(78,205,196,0.08) 0%, transparent 60%),
                radial-gradient(ellipse at 70% 20%, rgba(232,197,71,0.08) 0%, transparent 60%);
  }

  .hero::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image: 
      linear-gradient(rgba(232,197,71,0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(232,197,71,0.03) 1px, transparent 1px);
    background-size: 60px 60px;
    pointer-events: none;
  }

  .chapter-badge {
    display: inline-block;
    font-family: 'DM Mono', monospace;
    font-size: 0.75rem;
    letter-spacing: 0.2em;
    color: var(--accent);
    border: 1px solid var(--accent);
    padding: 6px 18px;
    margin-bottom: 32px;
    text-transform: uppercase;
    animation: fadeUp 0.6s ease both;
  }

  .hero h1 {
    font-family: 'Playfair Display', serif;
    font-size: clamp(2.5rem, 7vw, 5.5rem);
    font-weight: 900;
    line-height: 1.05;
    max-width: 800px;
    animation: fadeUp 0.7s ease 0.1s both;
  }

  .hero h1 span { color: var(--accent); }

  .hero p {
    max-width: 500px;
    color: var(--muted);
    margin-top: 20px;
    font-size: 1.05rem;
    animation: fadeUp 0.7s ease 0.2s both;
  }

  .hero-nav {
    display: flex;
    gap: 14px;
    margin-top: 40px;
    flex-wrap: wrap;
    justify-content: center;
    animation: fadeUp 0.7s ease 0.3s both;
  }

  .hero-nav a {
    display: inline-block;
    padding: 11px 26px;
    text-decoration: none;
    font-size: 0.9rem;
    font-weight: 500;
    border-radius: 2px;
    transition: all 0.2s;
  }

  .btn-primary {
    background: var(--accent);
    color: #0a0e1a;
  }
  .btn-primary:hover { background: #f5d660; transform: translateY(-2px); }

  .btn-ghost {
    border: 1px solid var(--border);
    color: var(--text);
  }
  .btn-ghost:hover { border-color: var(--accent); color: var(--accent); }

  /* SCROLL INDICATOR */
  .scroll-hint {
    position: absolute;
    bottom: 32px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    color: var(--muted);
    font-size: 0.75rem;
    letter-spacing: 0.1em;
    animation: bounce 2s infinite;
  }
  .scroll-hint::after {
    content: '';
    width: 1px;
    height: 40px;
    background: linear-gradient(var(--accent), transparent);
  }

  /* SECTIONS */
  .section {
    max-width: 1100px;
    margin: 0 auto;
    padding: 80px 24px;
  }

  .section-label {
    font-family: 'DM Mono', monospace;
    font-size: 0.7rem;
    letter-spacing: 0.2em;
    color: var(--accent);
    text-transform: uppercase;
    margin-bottom: 12px;
  }

  .section-title {
    font-family: 'Playfair Display', serif;
    font-size: clamp(1.8rem, 4vw, 2.8rem);
    font-weight: 700;
    margin-bottom: 40px;
    line-height: 1.2;
  }

  /* CONCEPT CARDS GRID */
  .cards-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;
  }

  .card {
    background: var(--card);
    border: 1px solid var(--border);
    padding: 28px;
    border-radius: 4px;
    transition: border-color 0.3s, transform 0.3s;
    position: relative;
    overflow: hidden;
  }
  .card::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--accent), var(--accent2));
    opacity: 0;
    transition: opacity 0.3s;
  }
  .card:hover { border-color: rgba(232,197,71,0.4); transform: translateY(-4px); }
  .card:hover::before { opacity: 1; }

  .card-icon {
    width: 44px; height: 44px;
    border-radius: 8px;
    display: flex; align-items: center; justify-content: center;
    font-size: 1.4rem;
    margin-bottom: 16px;
  }

  .card h3 {
    font-family: 'Playfair Display', serif;
    font-size: 1.1rem;
    margin-bottom: 10px;
    color: var(--text);
  }

  .card p { color: var(--muted); font-size: 0.9rem; }

  /* JOURNAL ENTRIES */
  .journal-section { background: var(--surface); }

  .entry-block {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 4px;
    overflow: hidden;
    margin-bottom: 20px;
  }

  .entry-header {
    padding: 16px 24px;
    background: rgba(232,197,71,0.05);
    border-bottom: 1px solid var(--border);
    font-family: 'DM Mono', monospace;
    font-size: 0.8rem;
    color: var(--accent);
    letter-spacing: 0.1em;
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .entry-table {
    width: 100%;
    border-collapse: collapse;
    font-family: 'DM Mono', monospace;
    font-size: 0.85rem;
  }

  .entry-table td {
    padding: 10px 24px;
    border-bottom: 1px solid rgba(255,255,255,0.03);
  }

  .entry-table .dr { color: var(--accent2); }
  .entry-table .cr { color: var(--accent); padding-left: 50px; }
  .entry-table .amount { text-align: right; color: var(--muted); }

  /* DIVIDER */
  .divider {
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--border), transparent);
    margin: 0 24px;
  }

  /* STEPS */
  .steps {
    display: flex;
    flex-direction: column;
    gap: 0;
  }

  .step {
    display: flex;
    gap: 24px;
    padding: 24px 0;
    border-bottom: 1px solid var(--border);
    align-items: flex-start;
  }
  .step:last-child { border-bottom: none; }

  .step-num {
    font-family: 'Playfair Display', serif;
    font-size: 2.5rem;
    color: rgba(232,197,71,0.2);
    font-weight: 900;
    line-height: 1;
    min-width: 60px;
  }

  .step-content h4 {
    font-family: 'DM Sans', sans-serif;
    font-weight: 500;
    margin-bottom: 6px;
    color: var(--text);
  }

  .step-content p { color: var(--muted); font-size: 0.9rem; }

  /* ALLOWANCE TABLE */
  .allowance-table-wrap {
    overflow-x: auto;
    border: 1px solid var(--border);
    border-radius: 4px;
  }

  .allowance-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.9rem;
  }

  .allowance-table thead {
    background: rgba(232,197,71,0.08);
  }

  .allowance-table th {
    padding: 14px 20px;
    text-align: left;
    font-family: 'DM Mono', monospace;
    font-size: 0.72rem;
    letter-spacing: 0.12em;
    color: var(--accent);
    text-transform: uppercase;
    border-bottom: 1px solid var(--border);
  }

  .allowance-table td {
    padding: 12px 20px;
    border-bottom: 1px solid rgba(255,255,255,0.04);
    color: var(--muted);
  }

  .allowance-table td:first-child { color: var(--text); }
  .allowance-table tfoot td {
    font-weight: 500;
    color: var(--accent2);
    border-top: 1px solid var(--border);
    border-bottom: none;
  }

  /* QUIZ */
  .quiz-section { background: var(--surface); }

  .quiz-card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 4px;
    padding: 28px;
    margin-bottom: 20px;
  }

  .quiz-q {
    font-weight: 500;
    margin-bottom: 16px;
    font-size: 0.95rem;
  }

  .quiz-q span {
    font-family: 'DM Mono', monospace;
    color: var(--accent);
    font-size: 0.75rem;
    margin-right: 8px;
  }

  .quiz-options {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 10px;
  }

  .quiz-btn {
    background: rgba(255,255,255,0.03);
    border: 1px solid var(--border);
    color: var(--text);
    padding: 12px 16px;
    border-radius: 3px;
    cursor: pointer;
    font-family: 'DM Sans', sans-serif;
    font-size: 0.85rem;
    text-align: left;
    transition: all 0.2s;
  }

  .quiz-btn:hover { border-color: rgba(78,205,196,0.4); background: rgba(78,205,196,0.05); }
  .quiz-btn.correct { border-color: var(--accent2); background: rgba(78,205,196,0.1); color: var(--accent2); }
  .quiz-btn.wrong { border-color: var(--accent3); background: rgba(255,107,107,0.1); color: var(--accent3); }

  .quiz-feedback {
    margin-top: 14px;
    font-size: 0.85rem;
    color: var(--muted);
    display: none;
    padding: 10px 16px;
    border-left: 2px solid var(--accent2);
    background: rgba(78,205,196,0.05);
  }
  .quiz-feedback.show { display: block; }

  /* RESOURCES */
  .resource-links {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
  }

  .resource-card {
    background: var(--card);
    border: 1px solid var(--border);
    padding: 28px;
    border-radius: 4px;
    text-decoration: none;
    color: var(--text);
    display: flex;
    align-items: flex-start;
    gap: 18px;
    transition: all 0.3s;
    position: relative;
    overflow: hidden;
  }

  .resource-card::after {
    content: '‚Üí';
    position: absolute;
    right: 24px; top: 50%;
    transform: translateY(-50%) translateX(10px);
    opacity: 0;
    transition: all 0.3s;
    font-size: 1.2rem;
    color: var(--accent);
  }

  .resource-card:hover { border-color: rgba(232,197,71,0.4); transform: translateY(-3px); }
  .resource-card:hover::after { opacity: 1; transform: translateY(-50%) translateX(0); }

  .resource-icon {
    width: 48px; height: 48px;
    min-width: 48px;
    background: rgba(232,197,71,0.08);
    border: 1px solid rgba(232,197,71,0.2);
    border-radius: 4px;
    display: flex; align-items: center; justify-content: center;
    font-size: 1.4rem;
  }

  .resource-card h3 { font-size: 1rem; margin-bottom: 6px; }
  .resource-card p { font-size: 0.83rem; color: var(--muted); }

  /* NAV */
  nav {
    position: fixed;
    top: 0; left: 0; right: 0;
    z-index: 100;
    padding: 16px 32px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: rgba(10,14,26,0.85);
    backdrop-filter: blur(12px);
    border-bottom: 1px solid var(--border);
  }

  .nav-logo {
    font-family: 'DM Mono', monospace;
    font-size: 0.8rem;
    color: var(--accent);
    letter-spacing: 0.15em;
  }

  .nav-links {
    display: flex;
    gap: 24px;
    list-style: none;
  }

  .nav-links a {
    color: var(--muted);
    text-decoration: none;
    font-size: 0.85rem;
    transition: color 0.2s;
  }
  .nav-links a:hover { color: var(--accent); }

  /* HIGHLIGHT BOX */
  .highlight-box {
    border: 1px solid rgba(232,197,71,0.25);
    background: rgba(232,197,71,0.04);
    border-radius: 4px;
    padding: 20px 24px;
    margin: 24px 0;
  }

  .highlight-box h4 {
    font-family: 'DM Mono', monospace;
    font-size: 0.75rem;
    color: var(--accent);
    letter-spacing: 0.12em;
    text-transform: uppercase;
    margin-bottom: 8px;
  }

  .highlight-box p, .highlight-box li { color: var(--muted); font-size: 0.9rem; }
  .highlight-box ul { padding-left: 18px; }
  .highlight-box li { margin-bottom: 4px; }

  /* TWO COL */
  .two-col {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px;
  }

  @media (max-width: 640px) {
    .two-col { grid-template-columns: 1fr; }
    nav .nav-links { display: none; }
  }

  /* ANIMATIONS */
  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(24px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes bounce {
    0%, 100% { transform: translateX(-50%) translateY(0); }
    50% { transform: translateX(-50%) translateY(8px); }
  }

  /* GLOSSARY */
  .glossary-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 16px;
  }

  .glossary-item {
    background: var(--card);
    border: 1px solid var(--border);
    padding: 20px;
    border-radius: 4px;
  }

  .glossary-item dt {
    font-weight: 500;
    color: var(--accent2);
    margin-bottom: 6px;
    font-size: 0.9rem;
  }

  .glossary-item dd { color: var(--muted); font-size: 0.85rem; }

  /* SECTION BG ALT */
  .alt-bg { background: var(--surface); }

  /* SCORE DISPLAY */
  #score-display {
    font-family: 'Playfair Display', serif;
    font-size: 1.5rem;
    color: var(--accent);
    margin-top: 24px;
    text-align: center;
    display: none;
  }

  .tag {
    display: inline-block;
    font-family: 'DM Mono', monospace;
    font-size: 0.7rem;
    padding: 3px 10px;
    border-radius: 2px;
    margin-right: 6px;
    margin-bottom: 4px;
  }
  .tag-dr { background: rgba(78,205,196,0.12); color: var(--accent2); }
  .tag-cr { background: rgba(232,197,71,0.12); color: var(--accent); }
</style>
</head>
<body>

<nav>
  <div class="nav-logo">CH.10 ‚Äî BAFS</div>
  <ul class="nav-links">
    <li><a href="#concepts">Concepts</a></li>
    <li><a href="#entries">Journal Entries</a></li>
    <li><a href="#estimation">Estimation</a></li>
    <li><a href="#quiz">Quiz</a></li>
    <li><a href="#resources">Resources</a></li>
  </ul>
</nav>

<!-- HERO -->
<section class="hero">
  <div class="chapter-badge">Chapter 10 ¬∑ BAFS Revision</div>
  <h1>Bad Debts &amp; <span>Doubtful</span> Accounts</h1>
  <p>Master the concepts, journal entries, and financial reporting for bad debts in Hong Kong BAFS.</p>
  <div class="hero-nav">
    <a href="#concepts" class="hero-nav btn-primary">Start Revising</a>
    <a href="#quiz" class="hero-nav btn-ghost">Take the Quiz</a>
    <a href="#resources" class="hero-nav btn-ghost">AI Tools</a>
  </div>
  <div class="scroll-hint">Scroll</div>
</section>

<!-- CORE CONCEPTS -->
<section id="concepts" class="section">
  <div class="section-label">Section 10.1 ‚Äì 10.2</div>
  <h2 class="section-title">Core Concepts</h2>
  <div class="cards-grid">
    <div class="card">
      <div class="card-icon" style="background:rgba(255,107,107,0.1)">üí∏</div>
      <h3>Bad Debts</h3>
      <p>Accounts receivable that have been <strong style="color:var(--accent3)">proved to be uncollectible</strong>. Occurs when a debtor goes bankrupt and cannot pay. Must be immediately written off.</p>
    </div>
    <div class="card">
      <div class="card-icon" style="background:rgba(78,205,196,0.1)">üõ°Ô∏è</div>
      <h3>Allowance for Doubtful Accounts</h3>
      <p>An allowance made at year-end for receivables <strong style="color:var(--accent2)">likely to become uncollectible</strong>. The amount is just an estimate ‚Äî it reduces trade receivables to net realisable value.</p>
    </div>
    <div class="card">
      <div class="card-icon" style="background:rgba(232,197,71,0.1)">‚öñÔ∏è</div>
      <h3>Prudence Concept</h3>
      <p>Requires that an allowance be made for <strong style="color:var(--accent)">possible losses or expenses</strong>, whether certain or estimated. Prevents overstatement of net assets or profit.</p>
    </div>
    <div class="card">
      <div class="card-icon" style="background:rgba(150,100,255,0.1)">üîó</div>
      <h3>Matching Concept</h3>
      <p>Revenues must be recognised with <strong style="color:#b39dff">related expenses in the same period</strong>. Bad debts expense is matched with the sales that generated the doubtful receivables.</p>
    </div>
    <div class="card">
      <div class="card-icon" style="background:rgba(78,205,196,0.1)">üìä</div>
      <h3>Net Realisable Value</h3>
      <p>The amount that trade receivables are <strong style="color:var(--accent2)">likely to be collected</strong>. Calculated as: Trade Receivables <em>minus</em> Allowance for Doubtful Accounts.</p>
    </div>
    <div class="card">
      <div class="card-icon" style="background:rgba(255,107,107,0.1)">üîÑ</div>
      <h3>Bad Debts Recovery</h3>
      <p>When a debtor repays a debt previously written off. Requires <strong style="color:var(--accent3)">two entries</strong>: reverse the write-off, then record cash received.</p>
    </div>
  </div>
</section>

<!-- JOURNAL ENTRIES -->
<section id="entries" class="section alt-bg">
  <div class="section-label">Section 10.4</div>
  <h2 class="section-title">Journal Entries</h2>

  <div class="entry-block">
    <div class="entry-header">‚ë† Writing Off a Bad Debt</div>
    <table class="entry-table">
      <tr>
        <td class="dr">Dr Allowance for Doubtful Accounts</td>
        <td class="amount">XXX</td>
      </tr>
      <tr>
        <td class="cr">Cr Trade Receivables (Debtor's A/c)</td>
        <td class="amount">XXX</td>
      </tr>
    </table>
  </div>

  <div class="entry-block">
    <div class="entry-header">‚ë° Recording Bad Debts Expense (Year-End)</div>
    <table class="entry-table">
      <tr><td colspan="2" style="color:var(--muted);font-size:0.8rem;padding:8px 24px;">If bad debts expense INCREASES:</td></tr>
      <tr>
        <td class="dr">Dr Bad Debts (Expense)</td>
        <td class="amount">XXX</td>
      </tr>
      <tr>
        <td class="cr">Cr Allowance for Doubtful Accounts</td>
        <td class="amount">XXX</td>
      </tr>
      <tr><td colspan="2" style="color:var(--muted);font-size:0.8rem;padding:8px 24px;padding-top:12px;">If bad debts expense DECREASES (overestimated previously):</td></tr>
      <tr>
        <td class="dr">Dr Allowance for Doubtful Accounts</td>
        <td class="amount">XXX</td>
      </tr>
      <tr>
        <td class="cr">Cr Bad Debts (Other Revenues)</td>
        <td class="amount">XXX</td>
      </tr>
    </table>
  </div>

  <div class="entry-block">
    <div class="entry-header">‚ë¢ Bad Debts Recovery ‚Äî Step 1: Reverse Write-Off</div>
    <table class="entry-table">
      <tr>
        <td class="dr">Dr Trade Receivables</td>
        <td class="amount">XXX</td>
      </tr>
      <tr>
        <td class="cr">Cr Allowance for Doubtful Accounts</td>
        <td class="amount">XXX</td>
      </tr>
    </table>
  </div>

  <div class="entry-block">
    <div class="entry-header">‚ë¢ Bad Debts Recovery ‚Äî Step 2: Record Cash</div>
    <table class="entry-table">
      <tr>
        <td class="dr">Dr Cash / Bank</td>
        <td class="amount">XXX</td>
      </tr>
      <tr>
        <td class="cr">Cr Trade Receivables</td>
        <td class="amount">XXX</td>
      </tr>
    </table>
  </div>

  <div class="highlight-box" style="margin-top:32px">
    <h4>üìã Financial Reporting Summary</h4>
    <ul>
      <li><strong style="color:var(--text)">Income Statement:</strong> Bad Debts account balance ‚Üí shown as <em>expense</em> (or <em>other revenue</em> if decrease)</li>
      <li><strong style="color:var(--text)">Statement of Financial Position:</strong> Trade Receivables <em>less</em> Allowance for Doubtful Accounts = Net Realisable Value</li>
      <li>The Allowance account is a <strong style="color:var(--accent)">contra-asset</strong> account ‚Äî its balance is deducted from the related asset</li>
    </ul>
  </div>

  <!-- STEPS FOR YEAR-END -->
  <h3 style="font-family:'Playfair Display',serif;margin:40px 0 20px;font-size:1.5rem;">Year-End Steps for Allowance</h3>
  <div class="steps">
    <div class="step">
      <div class="step-num">01</div>
      <div class="step-content">
        <h4>Estimate Doubtful Accounts</h4>
        <p>Use specific allowance, fixed percentage, or ageing schedule to determine the required balance c/f of the allowance account.</p>
      </div>
    </div>
    <div class="step">
      <div class="step-num">02</div>
      <div class="step-content">
        <h4>Record Balance C/F</h4>
        <p>Enter the estimated amount on the <strong>debit side</strong> of the allowance account as balance c/f. This is the amount carried forward to next year.</p>
      </div>
    </div>
    <div class="step">
      <div class="step-num">03</div>
      <div class="step-content">
        <h4>Find the Balancing Figure</h4>
        <p>The balancing figure = bad debts written off during the year + balance c/f ‚àí balance b/f ‚àí bad debts recovered. This goes to the Bad Debts account.</p>
      </div>
    </div>
    <div class="step">
      <div class="step-num">04</div>
      <div class="step-content">
        <h4>Close Off Bad Debts Account</h4>
        <p>Transfer the Bad Debts account balance to Profit &amp; Loss account at year-end.</p>
      </div>
    </div>
  </div>
</section>

<!-- ESTIMATION -->
<section id="estimation" class="section">
  <div class="section-label">Section 10.3B</div>
  <h2 class="section-title">Estimating Doubtful Accounts</h2>

  <div class="two-col" style="margin-bottom:32px">
    <div class="card">
      <h3>Specific Allowance</h3>
      <p>Each trade debtor's account is reviewed individually. If likely uncollectible, an allowance up to the full amount is made. More precise but time-consuming.</p>
    </div>
    <div class="card">
      <h3>General Allowance</h3>
      <p>Apply a fixed percentage to total trade receivables, OR use an ageing schedule with different percentages for different periods outstanding.</p>
    </div>
  </div>

  <h3 style="font-family:'Playfair Display',serif;margin-bottom:20px;font-size:1.3rem;">Ageing Schedule Example</h3>
  <div class="allowance-table-wrap">
    <table class="allowance-table">
      <thead>
        <tr>
          <th>Period Outstanding</th>
          <th>Amount of Trade Receivables ($)</th>
          <th>Est. % Doubtful</th>
          <th>Est. Amount Doubtful ($)</th>
        </tr>
      </thead>
      <tbody>
        <tr><td>Less than 1 month</td><td>40,000</td><td>1%</td><td>400</td></tr>
        <tr><td>1‚Äì2 months</td><td>16,000</td><td>2%</td><td>320</td></tr>
        <tr><td>2‚Äì3 months</td><td>10,000</td><td>3%</td><td>300</td></tr>
        <tr><td>3 months‚Äì1 year</td><td>4,000</td><td>5%</td><td>200</td></tr>
        <tr><td>Over 1 year</td><td>1,000</td><td>10%</td><td>100</td></tr>
      </tbody>
      <tfoot>
        <tr><td><strong>Total</strong></td><td><strong>71,000</strong></td><td>‚Äî</td><td><strong>1,320</strong></td></tr>
      </tfoot>
    </table>
  </div>

  <div class="highlight-box">
    <h4>üí° Key Rule</h4>
    <p>The <strong style="color:var(--accent)">longer a debt is outstanding</strong>, the higher the percentage of doubtful accounts applied ‚Äî because older debts are less likely to be collected.</p>
  </div>

  <h3 style="font-family:'Playfair Display',serif;margin:40px 0 20px;font-size:1.3rem;">Calculating Bad Debts Expense</h3>
  <div class="highlight-box">
    <h4>Formula</h4>
    <p style="font-family:'DM Mono',monospace;font-size:0.95rem;line-height:2">
      Bad Debts Expense = Bad Debts Written Off<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ Estimated Allowance (Balance c/f)<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚àí Previous Allowance (Balance b/f)<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚àí Bad Debts Recovered
    </p>
  </div>
</section>

<!-- QUIZ -->
<section id="quiz" class="section quiz-section">
  <div class="section-label">Test Yourself</div>
  <h2 class="section-title">Quick Quiz</h2>

  <div class="quiz-card">
    <div class="quiz-q"><span>Q1</span> When a bad debt is confirmed, which entry is made?</div>
    <div class="quiz-options">
      <button class="quiz-btn" onclick="answer(this, false, 'q1')">Dr Trade Receivables / Cr Bad Debts</button>
      <button class="quiz-btn" onclick="answer(this, true, 'q1')">Dr Allowance for Doubtful Accounts / Cr Trade Receivables</button>
      <button class="quiz-btn" onclick="answer(this, false, 'q1')">Dr Bad Debts / Cr Cash</button>
      <button class="quiz-btn" onclick="answer(this, false, 'q1')">Dr Cash / Cr Trade Receivables</button>
    </div>
    <div id="q1" class="quiz-feedback">‚úì Correct! Writing off a bad debt debits the Allowance for Doubtful Accounts and credits Trade Receivables (the debtor's account), eliminating the outstanding balance.</div>
  </div>

  <div class="quiz-card">
    <div class="quiz-q"><span>Q2</span> The allowance for doubtful accounts is classified as a ___?</div>
    <div class="quiz-options">
      <button class="quiz-btn" onclick="answer(this, false, 'q2')">Current liability</button>
      <button class="quiz-btn" onclick="answer(this, false, 'q2')">Revenue account</button>
      <button class="quiz-btn" onclick="answer(this, true, 'q2')">Contra-asset account</button>
      <button class="quiz-btn" onclick="answer(this, false, 'q2')">Non-current asset</button>
    </div>
    <div id="q2" class="quiz-feedback">‚úì Correct! It is a contra-asset ‚Äî its balance is deducted from Trade Receivables to show the net realisable value in the Statement of Financial Position.</div>
  </div>

  <div class="quiz-card">
    <div class="quiz-q"><span>Q3</span> Trade receivables = $50,000. Allowance for doubtful accounts = $2,500. What is the net realisable value?</div>
    <div class="quiz-options">
      <button class="quiz-btn" onclick="answer(this, false, 'q3')">$52,500</button>
      <button class="quiz-btn" onclick="answer(this, true, 'q3')">$47,500</button>
      <button class="quiz-btn" onclick="answer(this, false, 'q3')">$2,500</button>
      <button class="quiz-btn" onclick="answer(this, false, 'q3')">$50,000</button>
    </div>
    <div id="q3" class="quiz-feedback">‚úì Correct! NRV = $50,000 ‚àí $2,500 = $47,500. The allowance is deducted from gross trade receivables.</div>
  </div>

  <div class="quiz-card">
    <div class="quiz-q"><span>Q4</span> Which accounting concept justifies making an allowance for doubtful accounts even though the exact amount is uncertain?</div>
    <div class="quiz-options">
      <button class="quiz-btn" onclick="answer(this, false, 'q4')">Matching concept only</button>
      <button class="quiz-btn" onclick="answer(this, false, 'q4')">Going concern concept</button>
      <button class="quiz-btn" onclick="answer(this, true, 'q4')">Prudence concept</button>
      <button class="quiz-btn" onclick="answer(this, false, 'q4')">Cost concept</button>
    </div>
    <div id="q4" class="quiz-feedback">‚úì Correct! The prudence concept requires allowances for possible losses even if uncertain. The matching concept also applies ‚Äî but prudence is the primary justification for estimating.</div>
  </div>

  <div class="quiz-card">
    <div class="quiz-q"><span>Q5</span> A debtor repays $800 previously written off as a bad debt. Which is the FIRST entry?</div>
    <div class="quiz-options">
      <button class="quiz-btn" onclick="answer(this, false, 'q5')">Dr Cash / Cr Bad Debts</button>
      <button class="quiz-btn" onclick="answer(this, false, 'q5')">Dr Allowance for Doubtful Accounts / Cr Cash</button>
      <button class="quiz-btn" onclick="answer(this, true, 'q5')">Dr Trade Receivables / Cr Allowance for Doubtful Accounts</button>
      <button class="quiz-btn" onclick="answer(this, false, 'q5')">Dr Cash / Cr Trade Receivables</button>
    </div>
    <div id="q5" class="quiz-feedback">‚úì Correct! Step 1 reverses the write-off: Dr Trade Receivables / Cr Allowance for Doubtful Accounts. Step 2 then records cash: Dr Cash/Bank / Cr Trade Receivables.</div>
  </div>

  <div id="score-display"></div>
</section>

<!-- GLOSSARY -->
<section class="section">
  <div class="section-label">Key Terms</div>
  <h2 class="section-title">Glossary</h2>
  <div class="glossary-grid">
    <dl class="glossary-item">
      <dt>Bad Debts</dt>
      <dd>Accounts receivable proved to be uncollectible; written off immediately from the debtor's account.</dd>
    </dl>
    <dl class="glossary-item">
      <dt>Allowance for Doubtful Accounts</dt>
      <dd>Estimated allowance at year-end for receivables likely to become uncollectible.</dd>
    </dl>
    <dl class="glossary-item">
      <dt>Net Realisable Value</dt>
      <dd>Trade Receivables minus Allowance for Doubtful Accounts; the expected collectible amount.</dd>
    </dl>
    <dl class="glossary-item">
      <dt>Prudence Concept</dt>
      <dd>Requires provisions for possible losses, even when the amount is an estimate (also called conservatism).</dd>
    </dl>
    <dl class="glossary-item">
      <dt>Matching Concept</dt>
      <dd>Revenues must be recognised with related expenses in the same accounting period.</dd>
    </dl>
    <dl class="glossary-item">
      <dt>Contra-Asset Account</dt>
      <dd>An account paired with an asset; its balance is deducted from the related asset in the SFP.</dd>
    </dl>
    <dl class="glossary-item">
      <dt>Ageing Schedule</dt>
      <dd>A breakdown of trade receivables by how long they have been outstanding; older debts get higher doubtful percentages.</dd>
    </dl>
    <dl class="glossary-item">
      <dt>Bad Debts Recovery</dt>
      <dd>A debt repaid after being written off; requires two entries to reverse the write-off and record cash.</dd>
    </dl>
  </div>
</section>

<!-- RESOURCES -->
<section id="resources" class="section alt-bg">
  <div class="section-label">External Resources</div>
  <h2 class="section-title">AI-Powered Study Tools</h2>
  <p style="color:var(--muted);margin-bottom:32px;max-width:540px;">Use these AI tools to get deeper explanations, practice questions, and interactive help on BAFS topics.</p>

  <div class="resource-links">
    <a href="https://hkdsebafs.github.io/ai-project/" target="_blank" class="resource-card">
      <div class="resource-icon">ü§ñ</div>
      <div>
        <h3>HKDSE BAFS AI Project</h3>
        <p>AI-assisted revision tool designed specifically for HKDSE Business, Accounting &amp; Financial Studies. Ask questions and get instant explanations.</p>
      </div>
    </a>
    <a href="https://ars0992106-maker.github.io/BAFS-AI/formatted.html#foundation" target="_blank" class="resource-card">
      <div class="resource-icon">üìö</div>
      <div>
        <h3>BAFS AI ‚Äî Foundation Notes</h3>
        <p>Structured AI-generated notes covering BAFS foundation topics. Navigate to the section on bad debts for targeted revision.</p>
      </div>
    </a>
  </div>

  <div class="highlight-box" style="margin-top:32px">
    <h4>üìù Exam Tips (HKDSE)</h4>
    <ul>
      <li>In the SFP, always show Trade Receivables and Allowance separately ‚Äî do not just show the net figure alone</li>
      <li>When bad debts are written off <em>before</em> estimating the allowance, deduct the written-off amount from trade receivables first</li>
      <li>If the allowance decreases, the balancing figure = <em>other revenues</em>, not expense</li>
      <li>State which accounting concepts support the allowance (prudence + matching) for theory questions</li>
      <li>Past paper reference: HKDSE 2022 Paper 2A C8b2-3</li>
    </ul>
  </div>
</section>

<footer style="border-top:1px solid var(--border);padding:32px;text-align:center">
  <p style="font-family:'DM Mono',monospace;font-size:0.75rem;color:var(--muted);letter-spacing:0.1em">
    CHAPTER 10 ¬∑ BAD DEBTS &amp; ALLOWANCE FOR DOUBTFUL ACCOUNTS ¬∑ BAFS REVISION
  </p>
</footer>

<script>
  const answered = {};
  const correct = {};

  function answer(btn, isCorrect, qid) {
    if (answered[qid]) return;
    answered[qid] = true;
    correct[qid] = isCorrect;

    const parent = btn.closest('.quiz-card');
    const btns = parent.querySelectorAll('.quiz-btn');
    const feedback = document.getElementById(qid);

    btns.forEach(b => b.disabled = true);
    btn.classList.add(isCorrect ? 'correct' : 'wrong');

    if (!isCorrect) {
      btns.forEach(b => {
        if (b.onclick.toString().includes('true')) b.classList.add('correct');
      });
      feedback.style.borderLeftColor = 'var(--accent3)';
      feedback.style.background = 'rgba(255,107,107,0.05)';
      feedback.textContent = '‚úó ' + feedback.textContent.slice(2);
    }

    feedback.classList.add('show');

    // Show score when all answered
    const total = document.querySelectorAll('.quiz-card').length;
    if (Object.keys(answered).length === total) {
      const score = Object.values(correct).filter(Boolean).length;
      const sd = document.getElementById('score-display');
      sd.style.display = 'block';
      sd.textContent = `You scored ${score} / ${total}${score === total ? ' üèÜ Perfect!' : score >= total*0.6 ? ' ‚Äî Good effort!' : ' ‚Äî Keep revising!'}`;
    }
  }

  // Smooth scroll
  document.querySelectorAll('a[href^="#"]').forEach(a => {
    a.addEventListener('click', e => {
      e.preventDefault();
      const target = document.querySelector(a.getAttribute('href'));
      if (target) target.scrollIntoView({ behavior: 'smooth', block: 'start' });
    });
  });
</script>
</body>
</html>
